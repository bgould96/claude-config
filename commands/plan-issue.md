Checkout main and pull the latest

Review GitHub Issue #$1. Ask clarifying questions about the issue.

Explore the existing code structure and look for missing implementation details.

Find edge cases that the current issue body hasn't considered

Summarize your findings with clear, concise requirements to resolve the issue. Update the issue body accordingly. Add a comment explaining your changes.

STOP here. Do NOT proceed to implementation or exit plan mode.
